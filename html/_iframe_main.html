<!DOCTYPE html>
<html lang="ko" class="__layout_frame__">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no, address=no, email=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">

	<!-- 소셜태그 -->
	<meta property="og:title" content="">
	<meta property="og:description" content="">
	<meta property="og:image" content="">
	<meta property="og:url" content="">
	<meta property="og:site_name" content="">
	<!--// 소셜태그 -->

	<title>스타일크루 CSAdmin</title>

	<!-- 공통 css -->
	<link rel="stylesheet" href="../css/lib.css">
	<link rel="stylesheet" href="../css/app.css">
	<!-- <link rel="stylesheet" data-css="{ '_href': '../css/font.css' }"> -->

	<!-- (D) 폴리필/라이브러리는 요청을 줄이기 위해 combind + minify를 적용해주세요. -->
	<!-- 폴리필/라이브러리 스크립트 -->
	<script src="../js/polyfill/babel-polyfill-7.12.1.min.js"></script>
	<script src="../js/polyfill/dom4-2.1.5.min.js"></script>
	<script src="../js/polyfill/fetch.umd-3.6.2.min.js"></script>
	<script src="../js/polyfill/intersection-observer-0.12.0.min.js"></script>
	<script src="../js/polyfill/resize-observer-1.5.1.min.js"></script>
	<script src="../js/lib/lodash-4.17.21.min.js"></script>
	<script src="../js/lib/axios-0.21.1.min.js"></script>
	<script src="../js/lib/load-image.all-5.14.0.min.js"></script>
	<script src="../js/lib/sortable-1.13.0.min.js"></script>
	<script src="../js/lib/gsap-3.6.1/gsap.min.js"></script>
	<script src="../js/lib/jquery-3.6.0.min.js"></script>
	<script src="../js/lib/editor-2.23.0/trumbowyg.min.js"></script>
	<script src="../js/lib/editor-2.23.0/plugins/colors/trumbowyg.colors.js"></script>
	<script src="../js/lib/editor-2.23.0/plugins/fontsize/trumbowyg.fontsize.min.js"></script>
	<script src="../js/lib/editor-2.23.0/plugins/table/trumbowyg.table.min.js"></script>

	<!-- 공통 스크립트 -->
	<script src="../js/app_common.js"></script>
	<script src="../js/app_page-common.js"></script>

	<!-- (D) 페이지 전용 스크립트는 .mm_page-content 하단에 넣어주세요. -->
</head>
<body>
	<div id="mm_app" class="mm_app">
		<!-- 화면 -->
		<div class="mm_view">
			<!-- 내용 -->
			<div id="mm_body" class="mm_page">
				<!-- 본문 -->
				<div class="mm_page-content">
					<!-- (D) 실제 내용을 추가하는 부분입니다. -->

					<!-- 본문 내용 -->
					<div class="mm_container">
						<!-- 게시판 -->
						<div class="m_main-notice">
							<!-- 상담 관리 스케줄 -->
							<div class="mm_lside">
								<div class="mm_tablebox">
									<div class="mm_tablebox-caption">
										<h3 class="mm_heading"><b>상담 관리 스케줄</b></h3>
									</div>
									<div class="mm_table" data-table="{ '_height': 140 }">
										<div class="mm_scroller">
											<table>
												<colgroup>
													<col style="width: 20%;">
													<col style="width: 20%;">
													<col>
													<col style="width: 25%;">
												</colgroup>
												<thead>
													<tr>
														<th scope="col"><div class="mm_table-item">상담번호</div></th>
														<th scope="col"><div class="mm_table-item">상담관리일</div></th>
														<th scope="col"><div class="mm_table-item">관리사유</div></th>
														<th scope="col"><div class="mm_table-item">등록일시</div></th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td><div class="mm_table-item">12345678</div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
														<td><div class="mm_table-item"><p class="mm_text-ellipsis">고객약속</p></div></td>
														<td><div class="mm_table-item">2021-06-17 11:23:30</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">22345678</div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
														<td><div class="mm_table-item"><p class="mm_text-ellipsis">업체확인필요업체확인필요업체확인필요업체확인필요업체확인필요</p></div></td>
														<td><div class="mm_table-item">2021-06-17 11:23:30</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">32345678</div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
														<td><div class="mm_table-item"><p class="mm_text-ellipsis">제휴사확인필요</p></div></td>
														<td><div class="mm_table-item">2021-06-17 11:23:30</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">42345678</div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
														<td><div class="mm_table-item"><p class="mm_text-ellipsis">고객약속</p></div></td>
														<td><div class="mm_table-item">2021-06-17 11:23:30</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">42345678</div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
														<td><div class="mm_table-item"><p class="mm_text-ellipsis">고객약속</p></div></td>
														<td><div class="mm_table-item">2021-06-17 11:23:30</div></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<a class="mm_btn btn_more __btn_sm_line_lighter__" href="claimCs.html" data-href="{ '_type': 'link' }"><b>상담정보조회 바로가기</b><i class="ico_link __link_sm__"></i></a>
							</div>
							<!--// 상담 관리 스케줄 -->

							<!-- 업무 공지사항 -->
							<div class="mm_rside">
								<div class="mm_tablebox">
									<div class="mm_tablebox-caption">
										<h3 class="mm_heading"><b>업무 공지사항</b></h3>
									</div>
									<div class="mm_table" data-table="{ '_height': 140 }">
										<div class="mm_scroller">
											<table>
												<colgroup>
													<col style="width: 12%;">
													<col>
													<col style="width: 20%;">
												</colgroup>
												<thead>
													<tr>
														<th scope="col"><div class="mm_table-item">번호</div></th>
														<th scope="col"><div class="mm_table-item">제목</div></th>
														<th scope="col"><div class="mm_table-item">등록/수정일</div></th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td><div class="mm_table-item">중요</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">주문/결제 변경 공지입니다.주문/결제 변경 공지입니다.주문/결제 변경 공지입니다.주문/결제 변경 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">중요</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">장바구니 기능 업데이트 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">100</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">이벤트 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">99</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">주문 오류 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">98</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">주문 오류 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">97</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">주문 오류 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
													<tr>
														<td><div class="mm_table-item">96</div></td>
														<td><div class="mm_table-item"><p><a href="_popup_businessNoticeDetail.html" data-href="{ '_type': 'popup' }" title="새 창 열림"><b class="mm_text-ellipsis">주문 오류 공지입니다.</b></a></p></div></td>
														<td><div class="mm_table-item">2021-06-17</div></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<a class="mm_btn btn_more __btn_sm_line_lighter__" href="operationBusinessNotice.html" data-href="{ '_type': 'link' }"><b>업무 공지사항 바로가기</b><i class="ico_link __link_sm__"></i></a>
							</div>
							<!--// 업무 공지사항 -->
						</div>
						<!--// 게시판 -->

						<!-- 문의 처리 내역(일별/월별) -->
						<section class="m_main-chart">
							<h3 class="mm_heading"><b>문의 처리 내역(일별/월별)</b></h3>
							<div class="m_main-chart-switch">
								<button type="button" class="btn_day __switch-on" title="선택됨"><b>일별</b></button>
								<button type="button" class="btn_month"><b>월별</b></button>
							</div>
							<dl class="mm_flex">
								<dt>제휴사 선택</dt>
								<dd>
									<div class="mm_form-select __select_xxs__">
										<label>
											<select data-select>
												<option>전체</option>
											</select>
											<b class="text_selected"></b>
											<i class="ico_form-select"></i>
										</label>
									</div>
								</dd>
							</dl>
							<div class="mm_scroller __scroller_x__">
								<canvas class="m_main-chart-day" style="width: 1693px;height: 298px;"></canvas>
							</div>
						</section>
						<!--// 문의 처리 내역(일별/월별) -->

						<!-- 채널 별 문의 처리 내역(시간) -->
						<section class="m_main-chart">
							<h3 class="mm_heading"><b>채널 별 문의 처리 내역(시간)</b></h3>
							<div class="mm_scroller __scroller_x__">
								<canvas class="m_main-chart-channel" style="width: 1693px;height: 298px;"></canvas>
							</div>
						</section>
						<!-- 채널 별 문의 처리 내역(시간) -->

						<!-- 자료실 -->
						<section class="m_main-data">
							<h3 class="mm_heading"><b>자료실</b></h3>
							<ul>
								<li><a href="#" download><b>CS 진행 가이드</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>고객응대 매뉴얼 가이드</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>문서양식</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>보고서 양식</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>스크립트 파일</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>매출통계 코드 가이드</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>보고서 양식</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>스크립트 파일</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>매출통계 코드 가이드</b><i class="ico_download"></i></a></li>
								<li><a href="#" download><b>일이삼사오육칠팔구십일이삼사오육칠팔구십</b><i class="ico_download"></i></a></li>
							</ul>
						</section>
						<!--// 자료실 -->
					</div>
					<!--// 본문 내용 -->

					<!-- 현재 페이지 스크립트 -->
					<script src="../js/lib/chart-2.9.4.min.js"></script>
					<script>
						// (D) 샘플 데이터 입니다. 실제 적용 시 삭제해주세요.
						var dayDatas = [['6/15', '3', '7', '42%'], ['6/16', '8', '10', '80%'], ['6/17', '3', '5', '60%'], ['6/18', '1', '2', '50%'], ['6/19', '15', '20', '75%'],
									['6/20', '28', '30', '93%'], ['6/21', '40', '45', '88%'], ['6/22', '3', '7', '42%'], ['6/23', '8', '10', '80%'], ['6/24', '3', '5', '60%'],
									['6/25', '1', '2', '50%'], ['6/26', '15', '20', '75%'], ['6/27', '28', '30', '93%'], ['6/28', '40', '45', '88%'], ['6/29', '3', '7', '42%'],
									['6/30', '8', '10', '80%'], ['7/1', '3', '5', '60%'], ['7/2', '1', '2', '50%'], ['7/3', '15', '20', '75%'], ['7/4', '28', '30', '93%'], ['7/5', '40', '45', '88%'],
									['7/6', '3', '7', '42%'], ['7/7', '8', '10', '80%'], ['7/8', '3', '5', '60%'], ['7/9', '1', '2', '50%'], ['7/10', '15', '20', '75%'], ['7/11', '28', '30', '93%'],
									['7/12', '40', '45', '88%'], ['7/13', '15', '20', '75%'], ['7/14', '28', '30', '93%']];
						var monthDatas = [['8월', '1', '2', '50%'], ['9월', '3', '5', '60%'], ['10월', '28', '30', '93%'], ['11월', '40', '45', '88%'], ['12월', '15', '20', '75%'],
									['1월', '3', '7', '42%'], ['2월', '40', '45', '88%'], ['3월', '3', '7', '42%'], ['4월', '8', '10', '80%'], ['5월', '3', '5', '60%'],
									['6월', '1', '2', '50%'], ['7월', '15', '20', '75%']];
						var channelDatas = [['쿠팡', '40', '5', '1'], ['11번가', '26', '10', '3'], ['G마켓', '42', '3', '16'], ['SSG', '20', '18', '16'], ['티몬', '52', '7', '3'], ['SSF', '32', '22', '11'],
									['GS SHOP', '12', '30', '22'], ['하프클럽', '45', '12', '11'], ['쿠팡', '40', '5', '1'], ['11번가', '26', '10', '3'], ['G마켓', '42', '3', '16'], ['SSG', '20', '18', '16'],
									['티몬', '52', '7', '3'], ['SSF', '32', '22', '11'], ['GS SHOP', '12', '30', '22'], ['하프클럽', '45', '12', '11']];
						var dayLabels = [];
						var dayCompletes = [];
						var dayTotals = [];
						var monthLabels = [];
						var monthCompletes = [];
						var monthTotals = [];
						var channelLabels = [];
						var channelOneDays = [];
						var channelOneDayOvers = [];
						var channelThreeDays = [];

						_.forEach(dayDatas, function (__value, __index) {

							dayLabels[__index] = [];
							dayLabels[__index][0] = __value[0];
							dayLabels[__index][1] = '[' + __value[3] + ']';

							dayCompletes[__index] = __value[1];
							dayTotals[__index] = __value[2];

						});

						_.forEach(monthDatas, function (__value, __index) {

							monthLabels[__index] = [];
							monthLabels[__index][0] = __value[0];
							monthLabels[__index][1] = '[' + __value[3] + ']';

							monthCompletes[__index] = __value[1];
							monthTotals[__index] = __value[2];

						});

						_.forEach(channelDatas, function (__value, __index) {

							channelLabels[__index] = __value[0];
							channelOneDays[__index] = __value[1];
							channelOneDayOvers[__index] = __value[2];
							channelThreeDays[__index] = __value[3];

						});

						//< 문의 처리 내역(일별/월별)
						var $dayCanvas = mm.find('.m_main-chart-day')[0];

						var dayChart = new Chart($dayCanvas, {
							type: 'bar',
							data: {
								labels: dayLabels,
								datasets: [
									{
										label: '처리 수',
										barThickness: 16,
										borderWidth: 0,
										backgroundColor: '#4a61a3',
										data: dayCompletes
									},
									{
										label: '총 문의 수',
										barThickness: 16,
										borderWidth: 0,
										backgroundColor: '#c7c7c7',
										data: dayTotals
									}
								]
							},
							options: {
								responsive: false,
								// maintainAspectRatio: false,
								layout: {
									padding: {
										top: 20,
										right: 23,
										bottom: 31,
										left: 16
									}
								},
								legend: {
									display: true,
									align: 'start',
									onClick: '',
									labels: {
										boxWidth: 10,
										boxHeight: 10,
										fontColor: '#666'
									}
								},
								tooltips : {
									mode: 'index',
									displayColors: false,
									caretSize: 0,
									backgroundColor: '#fff',
									cornerRadius: 0,
									borderWidth: 1,
									borderColor: '#000',
									bodyFontColor: '#000',
									callbacks: {
										title: function () {

											return null;

										},
										label: function (__datas, __objects) {

											var _labelOrder = (__datas.datasetIndex === 0) ? 1 : 0;

											return __objects.datasets[_labelOrder].label + ': ' + __objects.datasets[_labelOrder].data[__datas.index];

										},
										afterBody: function (__datas) {

											return '처리율: ' + dayDatas[__datas[0].index][3];

										}
									}
								},
								scales: {
									xAxes: [{
										stacked: true,
										ticks: {
											// fontColor: 'red',
											callback: function(__value, __index) {

												// if (parseInt(dayDatas[__index][3]) < 50) {
												// 	this.ctx.fillStyle = '#f00';
												// }

												return __value;

											}
										},
										gridLines: {
											display: false
										}
									}],
									yAxes: [{

									}]
								}
							}
						});
						//> 문의 처리 내역(일별/월별)

						//< 채널 별 문의 처리 내역(시간)
						var $channelCanvas = mm.find('.m_main-chart-channel')[0];

						$channelCanvas.style.width = channelDatas.length * 106 + 'px';

						var channelChart = new Chart($channelCanvas, {
							type: 'bar',
							data: {
								labels: channelLabels,
								datasets: [
									{
										label: '24시간 이내 처리 수',
										maxBarThickness: 16,
										categoryPercentage: 0.7,
										borderWidth: 0,
										backgroundColor: '#4a61a3',
										data: channelOneDays
									},
									{
										label: '24시간 초과 72시간 이내 처리 수',
										maxBarThickness: 16,
										categoryPercentage: 0.7,
										borderWidth: 0,
										backgroundColor: '#529e64',
										data: channelOneDayOvers
									},
									{
										label: '72시간 초과 처리 수',
										maxBarThickness: 16,
										categoryPercentage: 0.7,
										borderWidth: 0,
										backgroundColor: '#cf4a69',
										data: channelThreeDays
									}
								]
							},
							options: {
								responsive: false,
								// maintainAspectRatio: false,
								layout: {
									padding: {
										top: 20,
										right: 23,
										bottom: 31,
										left: 16
									}
								},
								legend: {
									display: true,
									align: 'start',
									onClick: '',
									labels: {
										boxWidth: 10,
										boxHeight: 10,
										fontColor: '#666'
									}
								},
								tooltips : {
									mode: 'index',
									displayColors: false,
									caretSize: 0,
									backgroundColor: '#fff',
									cornerRadius: 0,
									borderWidth: 1,
									borderColor: '#000',
									bodyFontColor: '#000',
									callbacks: {
										title: function () {

											return null;

										}
									}
								},
								scales: {
									xAxes: [{
										gridLines: {
											display: false,
										}
									}],
									yAxes: [{

									}]
								}
							}
						});
						//> 채널 별 문의 처리 내역(시간)

						//< 일별, 월별 스위치
						var $chartSwitch = mm.find('.m_main-chart-switch');
						var $chartButtons = mm.find('button', $chartSwitch);
						var _classOn = '__switch-on';

						mm.event.on($chartButtons, 'click', function () {

							var $this = this;

							if ($this.classList.contains(_classOn)) return;

							_.forEach($chartButtons, function (__$btn, __index) {

								if (__$btn === $this) {
									__$btn.classList.add(_classOn);
									__$btn.setAttribute('title', '선택됨');
								}
								else {
									__$btn.classList.remove(_classOn);
									__$btn.removeAttribute('title');
								}

							});

							if ($this.classList.contains('btn_day')) {
								dayChart.data.labels = dayLabels;
								dayChart.data.datasets[0].data = dayCompletes;
								dayChart.data.datasets[1].data = dayTotals;
							}
							else if ($this.classList.contains('btn_month')) {
								dayChart.data.labels = monthLabels;
								dayChart.data.datasets[0].data = monthCompletes;
								dayChart.data.datasets[1].data = monthTotals;
							}

							dayChart.update();

						});
						//> 일별, 월별 스위치
					</script>
				</div>
				<!--// 본문 -->
			</div>
			<!--// 내용 -->
		</div>
		<!--// 화면 -->
	</div>
</body>
</html>
